/* =================================================================== 
 *  style.css    (v8.16)            
 *
 * Theme Variables (root + per-theme)                  
 * =================================================================== */
:root{
  --color-background:#fff;   --color-text:#111827;
  --color-border:#d1d5db;    --color-hover-background:#f3f4f6;
  --color-primary:#2563eb;

  --color-highlight:rgba(255,255,0,.8);  /* search */
  --color-annotation-bg:rgba(139,0,0,.45); /* user highlight */
}
[data-theme="dark"]{
  --color-background:#1f2937;--color-text:#f9fafb;
  --color-border:#374151;   --color-hover-background:#4b5563;
  --color-primary:#3b82f6;
}
[data-theme="sepia"]{
  --color-background:#fbf0db;--color-text:#3b2c25;
  --color-border:#d1bfa1;   --color-hover-background:#f3e8cd;
  --color-primary:#c78e45;
}

/* =================================================================== */
/*              Page Reset, Main Layout, Render Area                   */
/* =================================================================== */
html,body{margin:0;padding:0;width:100vw;min-height:100vh;
          background:var(--color-background);color:var(--color-text);
          font-family:Arial,sans-serif}
body{display:flex;flex-direction:column}
main#pdf-render-area{flex:1;overflow:auto;background:var(--color-background)}

/* =================================================================== */
/*                           Toolbar                                   */
/* =================================================================== */
#controls-bar{
  display:flex;align-items:center;
  padding:.5rem 1rem;font-size:.95rem;
  border-bottom:1px solid var(--color-border);
  background:var(--color-background);color:var(--color-text)
}
.controls-left,.controls-center,.controls-right{
  display:flex;align-items:center}
.controls-center{margin:0 auto}      /* center block truly centered */

#controls-bar button,
#controls-bar input[type="number"],
#theme-select{
  margin-right:.5rem;padding:.25rem .5rem;font-size:.95rem;
  border:1px solid var(--color-border);border-radius:3px;
  background:var(--color-background);color:var(--color-text);cursor:pointer;
}
#controls-bar button:hover,
#theme-select:hover{background:var(--color-hover-background)}
#controls-bar input[type="number"]{width:3rem}

/* Progress bar + percent */
#progress-indicator{width:100px;height:4px;border-radius:2px;overflow:hidden;
                    background:var(--color-hover-background)}
#progress-bar-fill{height:100%;width:0%;background:var(--color-primary);
                   transition:width .2s ease}
#progress-text{margin-left:.5rem;font-size:.95rem;color:var(--color-text);
               user-select:none;pointer-events:none}

/* =================================================================== */
/*                     Slide-out Search Bar (25 %)                     */
/* =================================================================== */
#search-bar{width:25vw;margin-left:auto;display:flex;align-items:center;
  justify-content:space-between;padding:.5rem 1rem;font-size:.95rem;
  border-bottom:1px solid var(--color-border);
  background:var(--color-background);color:var(--color-text)}
#search-bar.hidden{display:none!important}
#search-bar input[type="text"]{flex:1;margin-right:.5rem;
  padding:.25rem .5rem;border:1px solid var(--color-border);border-radius:3px;
  background:var(--color-background);color:var(--color-text)}
#search-bar button{margin-right:.5rem;padding:.25rem .5rem;
  border:1px solid var(--color-border);border-radius:3px;
  background:var(--color-background);color:var(--color-text);cursor:pointer}
#search-bar button:hover{background:var(--color-hover-background)}
#search-counter{margin-right:.5rem}

/* =================================================================== */
/*                    PDF Canvas Container + Page                      */
/* =================================================================== */
#canvas-container{
  display:flex;justify-content:center;align-items:flex-start;
  width:100%;background:#eee;overflow:auto}
.page{position:relative;background:#fff;box-shadow:0 2px 6px rgba(0,0,0,.15)}
.page canvas{display:block;width:100%!important;height:auto!important}

/* =================================================================== */
/*                       Highlight Rectangles                          */
/* =================================================================== */
.search-highlight{position:absolute;background:var(--color-highlight);
  pointer-events:auto}
.highlight-rect {
  position: absolute;
  background: var(--color-annotation-bg);
  border: none !important;
  pointer-events: auto;      /* âœ… allow clicks */
  cursor: pointer;           /* (optional) show pointer */
  z-index: 10;
}


/* Outline the current search hit */
.current-hit {
  outline: 2px solid var(--color-primary);
  outline-offset: 1px;          /* sits just outside the yellow box */
}





/* =================================================================== */
/*                        Annotation Popup                             */
/* =================================================================== */
.annotation-popup{position:fixed;z-index:10000;
  background:var(--color-background);color:var(--color-text);
  border:1px solid var(--color-border);border-radius:4px;padding:4px 8px;
  box-shadow:0 2px 4px rgba(0,0,0,.25);font-size:.85rem;user-select:none}
.annotation-popup__close{background:var(--color-primary);color:#fff;border:none;
  padding:2px 6px;border-radius:3px;cursor:pointer}
.annotation-popup__close:hover{opacity:.85}

/* =================================================================== */
/*                       (Optional) PDF.js Text Layer                   */
/* =================================================================== */
.textLayer{position:absolute;top:0;left:0;right:0;bottom:0;
           pointer-events:none;user-select:none}
